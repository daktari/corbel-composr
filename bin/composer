#!/usr/bin/env node
var debug = require('debug')('expressapp');

var namespace = require('require-namespace');

namespace.createSync(__dirname + '/../src/lib/', 'lib');
namespace.createSync(__dirname + '/../src/utils/', 'utils');
namespace.createSync(__dirname + '/../src/config/', 'config');
namespace.createSync(__dirname + '/../src/routes/', 'routes');

var app = require('../src/app');

app.set('port', process.env.PORT || 3000);

var server = app.listen(app.get('port'), function() {
  debug('Express server listening on port ' + server.address().port);
});

module.exports = app;
